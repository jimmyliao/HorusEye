# The Eye of Horus part1: Image Generation and Watermark Detection with Vertex AI Imagen 3 and SynthID

Please check the blog: [The Eye of Horus part1: Image Generation and Watermark Detection with Vertex AI Imagen 3 and SynthID](https://memo.jimmyliao.net/p/the-eye-of-horus-part1-image-generation)

新聞: [數位部致力推動可信任AI　辦理審議式民主活動邀國際AI廠商交流](https://moda.gov.tw/press/press-releases/12648)，針對「運用AI促進資訊完整性審議式民主活動」，對於生成式AI內容進行分析及辨別方面，國際廠商皆在會中提出已建立或即將導入的相關作法，包括SynthID技術（用於AI生成圖片中建立浮水印，或偵測AI生成圖片中的浮水印，以方便辨識AI生成的圖片）等AI生成內容偵測技術、溯源標註及簽章、用戶檢舉機制，以及提醒用戶注意AI生成內容等作法。

而此文章展示了 SynthID 浮水印技術 在 AI 生成圖像 中的應用。評估 SynthID 在 Imagen 3 生成的圖像中嵌入與檢測不可見浮水印的效果，並提供了一種 驗證 AI 生成內容來源與真實性 的方法。


**Background:**

* **Imagen (Vertex AI):** Google Cloud's Imagen is a powerful text-to-image diffusion model.
* **SynthID:** A technology developed by Google DeepMind that embeds digital watermarks directly into the pixels of an image during its creation.
* **Imagen 3:** The newest iteration of Imagen, offering improved image quality and adherence to prompts.
* **WatermarkVerificationModel:** A model designated to check for the SynthID watermarks.

**Experiment:**

1.  **Image Generation with Imagen 3:**
    * Use Imagen 3 to generate images of the "Eye of Horus" based on specific prompts.
    * Conduct two sets of generation:
        * One set with the SynthID watermark enabled.
        * Another set without the SynthID watermark.
2.  **Watermark Verification with WatermarkVerificationModel:**
    * Take the generated images from both sets.
    * Use the WatermarkVerificationModel to analyze each image and determine if a SynthID watermark is present.
    * Record the results of the verification.

**## What is this**

This experiment demonstrates the application of SynthID's robust watermarking capabilities within the context of AI-generated imagery. It evaluates how effectively SynthID can embed and detect imperceptible watermarks in images produced by Imagen 3, showcasing a method for establishing provenance and authenticity in AI-generated content.

**## Why you should read this**

* **Understanding AI-Generated Content Authenticity:** As AI-generated images become increasingly realistic, it's crucial to have mechanisms for verifying their origin. This experiment provides insights into how SynthID addresses this challenge.
* **Practical Application of SynthID:** This provides a real world example of how to use SynthID with Imagen.
* **Exploring Imagen 3 Capabilities:** Readers can observe the quality of images generated by Imagen 3 and its integration with watermarking technologies.
* **Combating Misinformation:** Watermarking is a key tool in the fight against deepfakes and the spread of manipulated media.

**## What technologies used**

* **Google Cloud Vertex AI:** The platform for accessing and utilizing Imagen and SynthID.
* **Imagen 3:** Google's advanced text-to-image diffusion model.
* **SynthID:** Google DeepMind's imperceptible watermarking technology.
* **WatermarkVerificationModel:** The model used to detect SynthID watermarks.
* **Python (or relevant programming language):** Used to interact with the Vertex AI APIs.

**## How to verify**

To verify the experiment, you can follow these steps:

1.  **Access Vertex AI:** You'll need access to a Google Cloud Platform project with Vertex AI enabled.
2.  **Imagen 3 Generation:**
    * Use the Vertex AI SDK or the Google Cloud console to interact with Imagen 3.
    * Write code or use the console interface to generate "Eye of Horus" images with and without SynthID watermarking.
    * Ensure you have the correct settings to enable/disable SynthID during generation.
3.  **Watermark Verification:**
    * Utilize the WatermarkVerificationModel provided within Vertex AI.
    * Write code to load the generated images and pass them to the verification model.
    * Analyze the model's output to determine the presence or absence of a watermark.
    * Record the results.
4.  **Reproducibility:**
    * Document your prompts, code, and settings to ensure reproducibility.
    * Compare your results with the expected outcomes (watermarks detected in the corresponding set).
5.  **Visual Inspection:**
    * Visually inspect the generated images. Confirm that there is no obvious visual difference between the watermarked and non-watermarked images.
6.  **Statistical Analysis (Optional):**
    * If you generate a large number of images, perform statistical analysis to evaluate the accuracy and reliability of the watermark detection.

By following these steps, you can independently verify the effectiveness of SynthID in watermarking images generated by Imagen 3.
